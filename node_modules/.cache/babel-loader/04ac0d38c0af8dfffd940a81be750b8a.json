{"ast":null,"code":"import _objectSpread from\"/Users/v.yakovenko/Desktop/max/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/v.yakovenko/Desktop/max/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var initialState={items:[{id:1,imageUrl:'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',name:'IphoneX',count:20,size:{width:200,height:200},weight:200,comments:[{id:1,productId:1,description:'some text here1',date:'14:00 22.08.2021'},{id:2,productId:1,description:'some text here2',date:'14:00 22.08.2021'}],description:'The best proposition',collar:'red'},{id:2,imageUrl:'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',name:'IphoneXS',count:15,size:{width:200,height:200},weight:200,comments:[{id:1,productId:2,description:'some text here',date:'14:00 22.08.2021'},{id:2,productId:2,description:'some text here',date:'14:00 22.08.2021'}],description:'The best proposition',collar:'red'},{id:3,imageUrl:'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',name:'Iphone12',count:30,size:{width:200,height:200},weight:200,comments:[{id:1,productId:3,description:'some text here',date:'14:00 22.08.2021'},{id:2,productId:3,description:'some text here',date:'14:00 22.08.2021'}],description:'The best proposition',collar:'red'}],item:null};function assignObjects(dest){for(var _len=arguments.length,objects=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){objects[_key-1]=arguments[_key];}for(var _i=0,_objects=objects;_i<_objects.length;_i++){var obj=_objects[_i];if(typeof obj!='object')continue;for(var prop in obj){if(Array.isArray(obj[prop])){dest[prop]=_toConsumableArray(obj[prop]);}else if(typeof obj[prop]=='object'){dest[prop]=assignObjects({},obj[prop]);}else{dest[prop]=obj[prop];}}}return dest;}export var itemsReducer=function itemsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'DELETE_ITEM':return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(function(item){return item.id!==action.itemId;})});case'ADD_ITEM':var last=state.items.length-1;var item={id:state.items[last]?state.items[last].id+1:1,imageUrl:'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',name:action.data.name,count:action.data.count,size:{width:action.data.width,height:action.data.height},weight:action.data.weight,comments:[],description:action.data.description,collar:action.data.collar};return _objectSpread(_objectSpread({},state),{},{items:[].concat(_toConsumableArray(state.items),[item])});case'SET_ITEM':return _objectSpread(_objectSpread({},state),{},{item:state.items[action.id]});case'UPDATE_ITEM':return _objectSpread({},state);case'ADD_COMMENT':return _objectSpread({},state);case'DELETE_COMMENT':var updatedState=assignObjects({},state);updatedState.item.comments=updatedState.item.comments.filter(function(comment){return comment.id!==action.id;});return _objectSpread({},updatedState);default:return state;}};export var actions={deleteItem:function deleteItem(itemId){return{type:'DELETE_ITEM',itemId:itemId};},addItem:function addItem(data){return{type:'ADD_ITEM',data:data};},setItem:function setItem(id){return{type:'SET_ITEM',id:id};},deleteComment:function deleteComment(id,productId){return{type:'DELETE_COMMENT',id:id,productId:productId};},addComment:function addComment(data){return{type:'ADD_COMMENT',data:data};},updateItem:function updateItem(data){return{type:'UPDATE_ITEM',data:data};}};","map":{"version":3,"sources":["/Users/v.yakovenko/Desktop/max/my-project/src/Redux/items-reducer.tsx"],"names":["initialState","items","id","imageUrl","name","count","size","width","height","weight","comments","productId","description","date","collar","item","assignObjects","dest","objects","obj","prop","Array","isArray","itemsReducer","state","action","type","filter","itemId","last","length","data","updatedState","comment","actions","deleteItem","addItem","setItem","deleteComment","addComment","updateItem"],"mappings":"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","sourcesContent":["import {InferActionsType} from \"./redux-store\";\nimport {commentsType, itemType} from \"../types/types\";\n\n\nconst initialState = {\n    items: [{\n        id: 1,\n        imageUrl: 'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',\n        name: 'IphoneX',\n        count: 20,\n        size: {\n            width: 200,\n            height: 200\n        },\n        weight: 200,\n        comments: [\n            {\n                id: 1,\n                productId: 1,\n                description: 'some text here1',\n                date: '14:00 22.08.2021'\n            },\n            {\n                id: 2,\n                productId: 1,\n                description: 'some text here2',\n                date: '14:00 22.08.2021'\n            }\n        ] as Array<commentsType>,\n        description: 'The best proposition',\n        collar: 'red'\n    },\n        {\n            id: 2,\n            imageUrl: 'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',\n            name: 'IphoneXS',\n            count: 15,\n            size: {\n                width: 200,\n                height: 200\n            },\n            weight: 200,\n            comments: [\n                {\n                    id: 1,\n                    productId: 2,\n                    description: 'some text here',\n                    date: '14:00 22.08.2021'\n                },\n                {\n                    id: 2,\n                    productId: 2,\n                    description: 'some text here',\n                    date: '14:00 22.08.2021'\n                }\n            ] as Array<commentsType>,\n            description: 'The best proposition',\n            collar: 'red'\n        },\n        {\n            id: 3,\n            imageUrl: 'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',\n            name: 'Iphone12',\n            count: 30,\n            size: {\n                width: 200,\n                height: 200\n            },\n            weight: 200,\n            comments: [{\n                id: 1,\n                productId: 3,\n                description: 'some text here',\n                date: '14:00 22.08.2021'\n            },\n                {\n                    id: 2,\n                    productId: 3,\n                    description: 'some text here',\n                    date: '14:00 22.08.2021'\n                }] as Array<commentsType>,\n            description: 'The best proposition',\n            collar: 'red'\n        }\n    ] as Array<itemType>,\n    item: null as itemType | null\n}\n\ntype InitialStateType = typeof initialState\ntype ActionsType = InferActionsType<typeof actions>\n\nfunction assignObjects(dest: any, ...objects: any) {\n    for (let obj of objects) {\n        if (typeof obj != 'object') continue;\n        for (let prop in obj) {\n            if (Array.isArray(obj[prop])) {\n                dest[prop] = [...obj[prop]]\n            } else if (typeof obj[prop] == 'object') {\n                dest[prop] = assignObjects({}, obj[prop])\n            } else {\n                dest[prop] = obj[prop]\n            }\n        }\n    }\n    return dest;\n}\n\nexport const itemsReducer = (state = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case 'DELETE_ITEM' :\n            return {\n                ...state,\n                items: state.items.filter(item => item.id !== action.itemId)\n            }\n        case 'ADD_ITEM':\n            let last = state.items.length - 1\n            let item = {\n                id: state.items[last] ? state.items[last].id + 1 : 1,\n                imageUrl: 'https://images.unsplash.com/photo-1580910051074-3eb694886505?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80',\n                name: action.data.name,\n                count: action.data.count,\n                size: {\n                    width: action.data.width,\n                    height: action.data.height\n                },\n                weight: action.data.weight,\n                comments: [],\n                description: action.data.description,\n                collar: action.data.collar,\n            }\n            return {\n                ...state,\n                items: [...state.items, item]\n            }\n        case 'SET_ITEM':\n            return {\n                ...state,\n                item: state.items[action.id]\n            }\n        case 'UPDATE_ITEM':\n            return {\n                ...state,\n                // items: [...state.items , ...action.data]\n            }\n        case 'ADD_COMMENT':\n\n            return {\n                ...state\n            }\n        case 'DELETE_COMMENT':\n            const updatedState = assignObjects({}, state)\n            updatedState.item.comments = updatedState.item.comments.filter((comment: itemType )=> comment.id !== action.id)\n            return {\n                ...updatedState\n            }\n        default:\n            return state\n    }\n}\n\nexport const actions = {\n    deleteItem: (itemId: number) => ({type: 'DELETE_ITEM', itemId} as const),\n    addItem: (data: any) => ({type: 'ADD_ITEM', data} as const),\n    setItem: (id: number) => ({type: 'SET_ITEM', id} as const),\n    deleteComment: (id: number, productId: number) => ({type: 'DELETE_COMMENT', id, productId} as const),\n    addComment: (data: any) => ({type: 'ADD_COMMENT', data} as const),\n    updateItem: (data: any) => ({type: 'UPDATE_ITEM', data} as const)\n}"]},"metadata":{},"sourceType":"module"}