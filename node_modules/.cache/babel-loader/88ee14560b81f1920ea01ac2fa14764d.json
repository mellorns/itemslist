{"ast":null,"code":"import _toConsumableArray from\"/Users/v.yakovenko/Desktop/max/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/v.yakovenko/Desktop/max/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Item from\"./Items/Item\";import React,{useEffect,useState}from\"react\";import s from'./MainPage.module.css';import'./AddProductForm/AddProductForm.css';import{AddProductReduxForm}from\"./AddProductForm/AddProductForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainPage=function MainPage(_ref){var items=_ref.items,deleteItem=_ref.deleteItem,addItem=_ref.addItem;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sortType=_useState4[0],setSortType=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAddFormOpen=_useState6[0],setIsAddFormOpen=_useState6[1];useEffect(function(){var sortArray=function sortArray(type){var types={name:'name',count:'count'};var sortProperty=types[type];if(sortProperty==='name'){var sorted=_toConsumableArray(items).sort(function(a,b){return a.name.localeCompare(b.name);});setData(sorted);}else if(sortProperty==='count'){var _sorted=_toConsumableArray(items).sort(function(a,b){return a[sortProperty]-b[sortProperty];});setData(_sorted);}else{return null;}};sortArray(sortType);},[sortType]);useEffect(function(){setData(items);},[items]);var ModalOn=function ModalOn(){setIsAddFormOpen(true);};var onSubmit=function onSubmit(formData){addItem(formData);setIsAddFormOpen(false);};var closeModal=function closeModal(){setIsAddFormOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:s.addProductButton,onClick:ModalOn,children:\"Add Product\"}),/*#__PURE__*/_jsxs(\"select\",{className:s.selectMode,onChange:function onChange(e){return setSortType(e.currentTarget.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"sort\",children:\"Sort By:\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"count\",children:\"Count\"})]}),data.map(function(item){return/*#__PURE__*/_jsx(Item,{id:item.id,imageUrl:item.imageUrl,count:item.count,name:item.name,size:item.size,weight:item.weight,deleteItem:deleteItem},item.id);}),isAddFormOpen&&/*#__PURE__*/_jsx(\"div\",{id:\"myModal\",className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:closeModal,className:\"close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Add Product\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(AddProductReduxForm,{onSubmit:onSubmit})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\"})]})})]});};export default MainPage;","map":{"version":3,"sources":["/Users/v.yakovenko/Desktop/max/my-project/src/components/MainPage/MainPage.tsx"],"names":["Item","React","useEffect","useState","s","AddProductReduxForm","MainPage","items","deleteItem","addItem","data","setData","sortType","setSortType","isAddFormOpen","setIsAddFormOpen","sortArray","type","types","name","count","sortProperty","sorted","sort","a","b","localeCompare","ModalOn","onSubmit","formData","closeModal","addProductButton","selectMode","e","currentTarget","value","map","item","id","imageUrl","size","weight"],"mappings":"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","sourcesContent":["import Item from \"./Items/Item\";\nimport React, {useEffect, useState} from \"react\";\nimport s from './MainPage.module.css'\nimport './AddProductForm/AddProductForm.css'\nimport {AddProductFormValueType, AddProductReduxForm} from \"./AddProductForm/AddProductForm\";\nimport {itemType} from \"../../types/types\";\n\n\ntype MainPagePropsType = {\n    items: Array<itemType>,\n    deleteItem: (id: number) => void,\n    addItem: (formData: AddProductFormValueType) => void\n}\n\nconst MainPage: React.FC<MainPagePropsType> = ({items, deleteItem, addItem}) => {\n\n    const [data, setData] = useState<Array<itemType>>([])\n    const [sortType, setSortType] = useState<string>('')\n    const [isAddFormOpen, setIsAddFormOpen] = useState<boolean>(false)\n\n    useEffect(() => {\n\n\n        interface IObjectKeys {\n            [key: string]: string\n        }\n\n        interface IDevice extends IObjectKeys {\n            name: string,\n            count: string\n        }\n\n\n        const sortArray = (type: string) => {\n\n            const types: IDevice = {\n                name: 'name',\n                count: 'count'\n            }\n            let sortProperty = types[type]\n            if (sortProperty === 'name') {\n                const sorted = [...items].sort((a, b) => a.name.localeCompare(b.name));\n                setData(sorted)\n            } else if (sortProperty === 'count') {\n                const sorted = [...items].sort((a :any, b:any) => a[sortProperty] - b[sortProperty])\n                setData(sorted)\n            } else {\n                return null\n            }\n        }\n        sortArray(sortType)\n    }, [sortType])\n    useEffect(() => {\n        setData(items)\n    }, [items])\n    const ModalOn = () => {\n        setIsAddFormOpen(true)\n    }\n    const onSubmit = (formData: any) => {\n        addItem(formData)\n        setIsAddFormOpen(false)\n    }\n    const closeModal = () => {\n        setIsAddFormOpen(false)\n    }\n    return (\n        <div>\n            <button className={s.addProductButton} onClick={ModalOn}>Add Product</button>\n            <select className={s.selectMode} onChange={(e) => setSortType(e.currentTarget.value)}>\n                <option value=\"sort\">Sort By:</option>\n                <option value=\"name\">Name</option>\n                <option value=\"count\">Count</option>\n            </select>\n            {data.map(item => <Item key={item.id}\n                                    id={item.id}\n                                    imageUrl={item.imageUrl}\n                                    count={item.count}\n                                    name={item.name}\n                                    size={item.size}\n                                    weight={item.weight}\n                                    deleteItem={deleteItem}\n            />)}\n\n            {isAddFormOpen &&\n            <div id=\"myModal\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <span onClick={closeModal} className=\"close\">Ã—</span>\n                        <h2>Add Product</h2>\n                    </div>\n                    <div className=\"modal-body\">\n                        <AddProductReduxForm onSubmit={onSubmit}/>\n                    </div>\n                    <div className='modal-footer'>\n                    </div>\n                </div>\n            </div>\n            }\n        </div>\n\n    )\n}\n\n\nexport default MainPage"]},"metadata":{},"sourceType":"module"}